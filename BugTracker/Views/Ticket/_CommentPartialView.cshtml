@model Comment
@using Microsoft.AspNetCore.Identity
@using BugTracker.Areas.Identity.Data

@inject UserManager<ApplicationUser> userManager

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    string TicketId = Model.TicketId.ToString();
    string userId = userManager.GetUserId(User);
}

   <form method="post" action="@Url.Action("Create", "Comment")"  >
        <div class="form-floating mb-3">
            @Html.AntiForgeryToken()
            <input asp-for="AuthorId" type="hidden" value="@userId"/>
            <input asp-for="TicketId" type="hidden" value="@TicketId" />
            <input class="form-control" asp-for="Message" aria-required="true"/>
            <label class="form-label" asp-for="Message"></label>
            <span asp-validation-for="Message" class="text-danger"></span>
            <button type="submit" class="btn btn-primary m-1">Comment</button>
        </div>
    </form>
